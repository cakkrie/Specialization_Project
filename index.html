<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cornell Tech Design Tech Project</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="site-header"></div>

  <main>
    <div class="course-info">DESIGN 8131 Specialization Project 1</div>
    <div class="name">Jinyue (Carrie) Wang </div>
    <div class="name">Wing Sze (Sissi) Zheng</div>
    <br>

    <div class="name">Advisor<br><strong>Jose Sanchez</strong></div>

    <br>
    <br>
    <br>
    <br>

    <div id="react-card-swap"></div>
  </main>

  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="script.js"></script>
  <script type="text/babel">
    // Card Swap inspired by React Bits Card Swap
    // Source: https://reactbits.dev/components/card-swap
    let cards = [];

    function Card({card, style, onClick}) {
      return (
        <div onClick={onClick} style={{
          position:'absolute',
          width: 360,
          height: 480,
          borderRadius: 12,
          background:'#111',
          border:'1px solid #333',
          cursor:'pointer',
          boxShadow:'0 20px 60px rgba(0,0,0,0.5)',
          overflow:'hidden',
          ...style
        }}>
          <div style={{height:200,display:'flex',alignItems:'center',justifyContent:'center',background:'linear-gradient(135deg,#1a1a2e,#16213e)'}}>
            <div style={{textAlign:'center',color:'#fff'}}>
              <div style={{fontSize:40,opacity:.9}}>{card.emoji}</div>
              <div style={{fontSize:12,color:'#9fccff'}}>{card.desc}</div>
            </div>
          </div>
          <div style={{padding:16}}>
            <div style={{color:'#aaa',fontSize:12}}>{card.date}</div>
            <div style={{color:'#fff',fontSize:20,marginTop:4}}>{card.title}</div>
            <div style={{color:'#4a9eff',fontSize:12,marginTop:10}}>Click to open â†’</div>
          </div>
        </div>
      );
    }

    function CardSwap() {
      const [order, setOrder] = React.useState([0,1,2]);
      const [cardsLoaded, setCardsLoaded] = React.useState(false);
      const cycle = () => setOrder(([a,b,c]) => [b,c,a]);
      const open = (href) => window.open(href, '_blank');

      React.useEffect(() => {
        fetch('cards.json')
          .then(response => response.json())
          .then(data => {
            cards = data;
            setCardsLoaded(true);
          })
          .catch(error => {
            console.error('Error loading cards:', error);
            // Fallback cards if JSON fails to load
            cards = [
              { id: 1, title: 'Ideation1', date: '2025.09.11', href: 'ideation1.html', cover: 'Photo/ai-latency-cover.jpg' },
              { id: 2, title: 'Ideation2', date: '2025.09.18', href: 'ideation2.html', cover: 'Photo/design-system-cover.jpg' },
              { id: 3, title: 'Ideation3', date: '2025.10.02', href: 'ideation3.html', cover: 'Photo/implementation-cover.jpg' }
            ];
            setCardsLoaded(true);
          });
      }, []);

      const positions = [
        { x: -260, z: 0,  s: .9,  r: -8, o: .85 },
        { x:    0, z: 40, s: 1.0, r:  0, o: 1.0 },
        { x:  260, z: 0,  s: .9,  r:  8, o: .85 }
      ];

      if (!cardsLoaded) {
        return <div style={{textAlign:'center', color:'#fff', marginTop:100}}>Loading cards...</div>;
      }

      return (
        <div onMouseEnter={cycle} onClick={cycle} style={{
          position:'relative',
          height:540,
          margin:'40px auto 0',
          maxWidth:1200
        }}>
          {order.map((idx, i) => {
            const p = positions[i];
            const card = cards[idx];
            return (
              <Card
                key={card.id}
                card={card}
                onClick={() => open(card.href)}
                style={{
                  left:`calc(50% + ${p.x}px - 180px)`,
                  top:0,
                  transform:`translateZ(${p.z}px) scale(${p.s}) rotate(${p.r}deg)`,
                  opacity:p.o,
                  zIndex:i===1?3:(i===0?2:1),
                  transition:'transform 400ms ease, opacity 400ms ease, left 400ms ease'
                }}
              />
            );
          })}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('react-card-swap'));
    root.render(<CardSwap />);
  </script>
</body>
</html>